#!/usr/bin/env bash

${JAVA_HOME}/bin/java \
    -cp ../build/libs/samples.jar \
    -XX:+UnlockDiagnosticVMOptions \
    -XX:GuaranteedSafepointInterval=300000 \
    -Dreactor.aeron.sample.messages=1000000 \
    -Dreactor.aeron.sample.embeddedMediaDriver=true \
    -Dreactor.aeron.sample.request=8 \
    -Dreactor.aeron.sample.messageLength=32 \
    -Dagrona.disable.bounds.checks=true \
    -Dreactor.aeron.sample.exclusive.publications=true \
    ${JVM_OPTS} reactor.aeron.demo.pure.MdcPingNoWaitingWithSimpleBackpressure
